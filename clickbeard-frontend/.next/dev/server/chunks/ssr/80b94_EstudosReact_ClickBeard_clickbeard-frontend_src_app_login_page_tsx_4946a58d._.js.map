{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/olive/Documents/EstudosReact/ClickBeard/clickbeard-frontend/src/app/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function LoginPage() {\r\n  const [isRegister, setIsRegister] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  \r\n  const { login, register, loading, isAuthenticated } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated && typeof window !== 'undefined') { \r\n      router.push('/');\r\n    }\r\n  }, [isAuthenticated, router]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    try {\r\n      if (isRegister) {\r\n        await register(name, email, password);\r\n      } else {\r\n        await login(email, password);\r\n      }\r\n    } catch (err) { \r\n      if (err instanceof Error) {\r\n        setError(err.message);\r\n      } else {\r\n        setError('Ocorreu um erro desconhecido.');\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isAuthenticated) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-[calc(100vh-10rem)] bg-gray-50\">\r\n      <div className=\"w-full max-w-md p-8 space-y-6 bg-white rounded-xl shadow-2xl border border-gray-200\">\r\n        \r\n        <h2 className=\"text-3xl font-extrabold text-center text-gray-900\">\r\n          {isRegister ? 'Crie Sua Conta' : 'Acesse Sua Conta'}\r\n        </h2>\r\n        \r\n        <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n          \r\n          {isRegister && (\r\n            <div>\r\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Nome Completo</label>\r\n              <input\r\n                id=\"name\"\r\n                name=\"name\"\r\n                type=\"text\"\r\n                required\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                className=\"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">Email</label>\r\n            <input\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              autoComplete=\"email\"\r\n              required\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Senha</label>\r\n            <input\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              autoComplete=\"current-password\"\r\n              required\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full px-4 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500\"\r\n            />\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"p-3 text-sm font-medium text-red-700 bg-red-100 rounded-md border border-red-300\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-gray-900 bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50\"\r\n          >\r\n            {loading ? 'Processando...' : isRegister ? 'Cadastrar' : 'Entrar'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"text-center text-sm\">\r\n          <button\r\n            onClick={() => setIsRegister(!isRegister)}\r\n            className=\"font-medium text-yellow-600 hover:text-yellow-500 transition duration-150\"\r\n          >\r\n            {isRegister ? 'Já tem uma conta? Faça login' : 'Não tem uma conta? Crie uma agora'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,sRAAQ,EAAC;IAC7C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,sRAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sRAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sRAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sRAAQ,EAAC;IAEnC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,eAAe,EAAE,GAAG,IAAA,8MAAO;IAC7D,MAAM,SAAS,IAAA,oNAAS;IAExB,IAAA,uRAAS,EAAC;QACR;;IAGF,GAAG;QAAC;QAAiB;KAAO;IAE5B,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,IAAI;YACF,IAAI,YAAY;gBACd,MAAM,SAAS,MAAM,OAAO;YAC9B,OAAO;gBACL,MAAM,MAAM,OAAO;YACrB;QACF,EAAE,OAAO,KAAK;YACZ,IAAI,eAAe,OAAO;gBACxB,SAAS,IAAI,OAAO;YACtB,OAAO;gBACL,SAAS;YACX;QACF;IACF;IAEA,IAAI,iBAAiB;QACnB,OAAO;IACT;IAEA,qBACE,mTAAC;QAAI,WAAU;kBACb,cAAA,mTAAC;YAAI,WAAU;;8BAEb,mTAAC;oBAAG,WAAU;8BACX,aAAa,mBAAmB;;;;;;8BAGnC,mTAAC;oBAAK,WAAU;oBAAY,UAAU;;wBAEnC,4BACC,mTAAC;;8CACC,mTAAC;oCAAM,SAAQ;oCAAO,WAAU;8CAA0C;;;;;;8CAC1E,mTAAC;oCACC,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,QAAQ;oCACR,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,WAAU;;;;;;;;;;;;sCAKhB,mTAAC;;8CACC,mTAAC;oCAAM,SAAQ;oCAAQ,WAAU;8CAA0C;;;;;;8CAC3E,mTAAC;oCACC,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,cAAa;oCACb,QAAQ;oCACR,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,WAAU;;;;;;;;;;;;sCAId,mTAAC;;8CACC,mTAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA0C;;;;;;8CAC9E,mTAAC;oCACC,IAAG;oCACH,MAAK;oCACL,MAAK;oCACL,cAAa;oCACb,QAAQ;oCACR,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;;;;;;;;;;;;wBAIb,uBACC,mTAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,mTAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,mBAAmB,aAAa,cAAc;;;;;;;;;;;;8BAI7D,mTAAC;oBAAI,WAAU;8BACb,cAAA,mTAAC;wBACC,SAAS,IAAM,cAAc,CAAC;wBAC9B,WAAU;kCAET,aAAa,iCAAiC;;;;;;;;;;;;;;;;;;;;;;AAM3D","debugId":null}}]
}